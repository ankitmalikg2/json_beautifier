<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <!-- <body>
    <h1>Hello World!</h1>
    We are using Node.js <script>document.write(process.versions.node)</script>,
    Chromium <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>.

    <script>
      // You can also require other files to run in this process
      require('./renderer.js')
    </script>
  </body> -->
  <body>
    <div>
       <div>
          <h2>We have the website embedded below!</h2>
       </div>
       <div class = "indicator"></div>
       <webview id = "foo" src = "https://www.tutorialspoint.com/" style = 
          "width:400px; height:480px;">
       </webview>
    </div>
    
    <button id="btn">click me</button>
    <script type="text/javascript">
       var btn=document.getElementById("btn");
       const webview = document.getElementById('foo')
       btn.addEventListener('click',function(){
         webview.setAttribute('src',"https://www.w3schools.com");
         console.log("it should show effect");
         const loadstart = () => {
             indicator.innerText = 'loading...'
          }

          const loadstop = () => {
             indicator.innerText = ''
          }

          webview.addEventListener('did-start-loading', loadstart)
          webview.addEventListener('did-stop-loading', loadstop)
       });
    </script>
    <script type = "text/javascript">
       // Event handlers for loading events.
       // Use these to handle loading screens, transitions, etc
       onload = () => {
          const webview = document.getElementById('foo')
          const indicator = document.querySelector('.indicator')

          const loadstart = () => {
             indicator.innerText = 'loading...'
          }

          const loadstop = () => {
             indicator.innerText = ''
          }

          webview.addEventListener('did-start-loading', loadstart)
          webview.addEventListener('did-stop-loading', loadstop)
       }
    </script>
 </body>
</html>
